{"ast":null,"code":"import _objectSpread from\"E:/Code/Project/FunFarm/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"E:/Code/Project/FunFarm/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"E:/Code/Project/FunFarm/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/Code/Project/FunFarm/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/Code/Project/FunFarm/client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/Code/Project/FunFarm/client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Nav from\"../../components/Nav\";import SidebarItem from\"../../components/SidebarItem.js\";import Land from\"./Land\";import\"../../styles/Farm.scss\";import{BrowserRouter as Router,Route,Switch}from\"react-router-dom\";import ShopTool from\"./ShopTool\";import smallPot from\"../../assets/images/smallPot.png\";import bigPot from\"../../assets/images/bigPot.png\";import water from\"../../assets/images/water.png\";import scarecrow from\"../../assets/images/scarecrow.png\";import greenhouse from\"../../assets/images/greenhouse.png\";import sapling from\"../../assets/images/sapling.svg\";import mama from\"../../assets/images/mama.png\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseURL=\"http://localhost:3000\";var Farm=/*#__PURE__*/function(_Component){_inherits(Farm,_Component);var _super=_createSuper(Farm);function Farm(){var _this;_classCallCheck(this,Farm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={moneyAmount:500,reload:false,arrItems:[{type:1,amount:0,img:smallPot},{type:2,amount:0,img:bigPot},{type:3,amount:0,img:water},{type:4,amount:0,img:scarecrow},{type:5,amount:0,img:greenhouse}],arrPlantsInInventory:[{name:\"sapling\",type:0,amount:2,img:sapling},{name:\"mama\",type:1,amount:1,img:mama}],arrPlants:[]};_this.handleUseItem=function(type){if(_this.state.arrItems[type-1].amount<1){alert(\"dont enought item!\");return;}var arr=_toConsumableArray(_this.state.arrItems);arr[type-1]=_objectSpread(_objectSpread({},arr[type-1]),{},{amount:arr[type-1].amount-1});_this.setState({arrItems:arr});};_this.handleBuyItem=function(type){var arr=_toConsumableArray(_this.state.arrItems);arr[type-1]=_objectSpread(_objectSpread({},arr[type-1]),{},{amount:arr[type-1].amount+1});_this.setState({arrItems:arr});axios({method:\"post\",url:baseURL+\"/farms/buy-tool\",data:{username:_this.props.username,amount:1,toolType:type}}).then(function(res){res.data.status===1?alert(\"Buy success!\"):alert(\"Error\");});};_this.handleBuyPLant=function(type){var arr=_toConsumableArray(_this.state.arrPlantsInInventory);arr[type]=_objectSpread(_objectSpread({},arr[type]),{},{amount:arr[type].amount+1});_this.setState({arrPlantsInInventory:arr});axios({method:\"post\",url:baseURL+\"/farms/buy-plant\",data:{username:_this.props.username,amount:1,plantType:type}}).then(function(res){res.data.status===1?alert(\"Buy success!\"):alert(\"Error\");});};return _this;}_createClass(Farm,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"farm-background\",children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/farm/shop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"shopTool\",children:[/*#__PURE__*/_jsx(SidebarItem,{arrItems:this.state.arrItems,openShop:true,handleUseItem:this.handleUseItem}),/*#__PURE__*/_jsx(ShopTool,{moneyAmount:this.state.moneyAmount,handleBuyItem:this.handleBuyItem,handleBuyPLant:this.handleBuyPLant})]})}),/*#__PURE__*/_jsx(Route,{path:\"/farm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"farm\",children:[/*#__PURE__*/_jsx(SidebarItem,{arrItems:this.state.arrItems,openShop:false,handleUseItem:this.handleUseItem}),/*#__PURE__*/_jsx(Land,{arrPlantsInInventory:this.state.arrPlantsInInventory})]})})]})})]});}}]);return Farm;}(Component);export{Farm as default};","map":{"version":3,"sources":["E:/Code/Project/FunFarm/client/src/views/farm/Farm.js"],"names":["React","Component","Nav","SidebarItem","Land","BrowserRouter","Router","Route","Switch","ShopTool","smallPot","bigPot","water","scarecrow","greenhouse","mama","axios","baseURL","Farm","state","moneyAmount","reload","arrItems","type","amount","img","arrPlantsInInventory","name","sapling","arrPlants","handleUseItem","alert","arr","setState","handleBuyItem","method","url","data","username","props","toolType","then","res","status","handleBuyPLant","plantType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Nav from \"../../components/Nav\";\r\nimport SidebarItem from \"../../components/SidebarItem.js\";\r\nimport Land from \"./Land\";\r\nimport \"../../styles/Farm.scss\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport ShopTool from \"./ShopTool\";\r\nimport smallPot from \"../../assets/images/smallPot.png\";\r\nimport bigPot from \"../../assets/images/bigPot.png\";\r\nimport water from \"../../assets/images/water.png\";\r\nimport scarecrow from \"../../assets/images/scarecrow.png\";\r\nimport greenhouse from \"../../assets/images/greenhouse.png\";\r\nimport sapling from \"../../assets/images/sapling.svg\";\r\nimport mama from \"../../assets/images/mama.png\";\r\nimport axios from \"axios\";\r\n\r\nconst baseURL = \"http://localhost:3000\";\r\n\r\nexport default class Farm extends Component {\r\n  state = {\r\n    moneyAmount: 500,\r\n    reload: false,\r\n    arrItems: [\r\n      { type: 1, amount: 0, img: smallPot },\r\n      { type: 2, amount: 0, img: bigPot },\r\n      { type: 3, amount: 0, img: water },\r\n      { type: 4, amount: 0, img: scarecrow },\r\n      { type: 5, amount: 0, img: greenhouse },\r\n    ],\r\n    arrPlantsInInventory: [\r\n      { name: \"sapling\", type: 0, amount: 2, img: sapling },\r\n      { name: \"mama\", type: 1, amount: 1, img: mama },\r\n    ],\r\n    arrPlants: [],\r\n  };\r\n\r\n  handleUseItem = (type) => {\r\n    if (this.state.arrItems[type - 1].amount < 1) {\r\n      alert(\"dont enought item!\");\r\n      return;\r\n    }\r\n    let arr = [...this.state.arrItems];\r\n    arr[type - 1] = { ...arr[type - 1], amount: arr[type - 1].amount - 1 };\r\n    this.setState({ arrItems: arr });\r\n  };\r\n\r\n  handleBuyItem = (type) => {\r\n    let arr = [...this.state.arrItems];\r\n    arr[type - 1] = { ...arr[type - 1], amount: arr[type - 1].amount + 1 };\r\n    this.setState({ arrItems: arr });\r\n    axios({\r\n      method: \"post\",\r\n      url: baseURL + \"/farms/buy-tool\",\r\n      data: {\r\n        username: this.props.username,\r\n        amount: 1,\r\n        toolType: type,\r\n      },\r\n    }).then((res) => {\r\n      res.data.status === 1 ? alert(\"Buy success!\") : alert(\"Error\");\r\n    });\r\n  };\r\n  handleBuyPLant = (type) => {\r\n    let arr = [...this.state.arrPlantsInInventory];\r\n    arr[type] = { ...arr[type], amount: arr[type].amount + 1 };\r\n    this.setState({ arrPlantsInInventory: arr });\r\n    axios({\r\n      method: \"post\",\r\n      url: baseURL + \"/farms/buy-plant\",\r\n      data: {\r\n        username: this.props.username,\r\n        amount: 1,\r\n        plantType: type,\r\n      },\r\n    }).then((res) => {\r\n      res.data.status === 1 ? alert(\"Buy success!\") : alert(\"Error\");\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"farm-background\">\r\n        <Nav />\r\n        <Router>\r\n          <Switch>\r\n            <Route path=\"/farm/shop\">\r\n              <div className=\"shopTool\">\r\n                <SidebarItem\r\n                  arrItems={this.state.arrItems}\r\n                  openShop={true}\r\n                  handleUseItem={this.handleUseItem}\r\n                />\r\n                <ShopTool\r\n                  moneyAmount={this.state.moneyAmount}\r\n                  handleBuyItem={this.handleBuyItem}\r\n                  handleBuyPLant={this.handleBuyPLant}\r\n                />\r\n              </div>\r\n            </Route>\r\n            <Route path=\"/farm\">\r\n              <div className=\"farm\">\r\n                <SidebarItem\r\n                  arrItems={this.state.arrItems}\r\n                  openShop={false}\r\n                  handleUseItem={this.handleUseItem}\r\n                />\r\n                <Land arrPlantsInInventory={this.state.arrPlantsInInventory} />\r\n              </div>\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}